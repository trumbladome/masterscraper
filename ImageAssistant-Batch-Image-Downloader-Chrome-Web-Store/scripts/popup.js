/**
 * ImageAssistant
 * Project Home: http://www.pullywood.com/ImageAssistant/
 * Author: Joey
 * Copyright (C) 2013-2024 普利坞(Pullywood.com)
**/
"use strict";$((function(){document.title=_MSG_("pop_doc_title");$("#pop_main").append($("<ul />",{class:"nav nav-pills nav-stacked"}).append($("<li />").append($("<a />",{class:"extBtn",href:"#","data-level":0,text:_MSG_("pop_menu_item_ext_cur_page")}).prepend($("<span />",{class:"glyphicon glyphicon-flash"})))).append($("<li />").append($("<a />",{class:"extBtn",href:"#","data-level":1,text:_MSG_("pop_menu_item_prefetch_link")}).prepend($("<span />",{class:"glyphicon glyphicon-warning-sign"})))).append($("<li />").append($("<a />",{class:"extBtn",href:"#","data-level":2,text:_MSG_("pop_menu_item_analyze_prefetch")}).prepend($("<span />",{class:"fa fa-bomb"})))).append($("<li />").append($("<a />",{id:"multiUrlExtractor",class:"multiExtBtn font-weight-bold info",target:"_blank",href:"./multiUrlExtractor.html",text:_MSG_("pop_menu_item_ext_multi_url")}).prepend($("<span />",{class:"glyphicon glyphicon-list-alt"})))).append($("<li />",{class:"divider"})).append($("<li />").append($("<a />",{id:"_imageAssistant_qrcode_",class:"optionBtn",href:"#",text:_MSG_("pop_menu_item_qrcode_current_page")}).prepend($("<span />",{class:"glyphicon glyphicon-qrcode"})))).append($("<li />").append($("<a />",{id:"_imageAssistant_editor_",class:"optionBtn",target:"_imageAssistant_editor_",href:"./imageEditor.html",text:_MSG_("pop_menu_item_image_editor")}).prepend($("<span />",{class:"glyphicon glyphicon-edit"})))).append($("<li />",{class:"divider"})).append($("<li />").append($("<a />",{class:"optionBtn",target:"_ImageAssistant_Plus_",href:"https://www.pullywood.com/ImageAssistant_Plus/",text:_MSG_("pop_menu_item_ext_favorite")}).prepend($("<span />",{class:"fab fa-app-store"})))).append($("<li />",{class:"divider"})).append($("<li />").append($("<a />",{class:"optionBtn",target:"_imageAssistant_options",href:"./options.html",text:_MSG_("pop_menu_item_ext_option")}).prepend($("<span />",{class:"glyphicon glyphicon-wrench"})))).append($("<li />").append($("<a />",{class:"optionBtn",target:"_imageAssistant_options",href:"./options.html?showMsg=about",text:_MSG_("pop_menu_item_about")}).append($("<span />",{id:"newVersion",text:"new"})).prepend($("<span />",{class:"glyphicon glyphicon-copyright-mark"})))));$(".extBtn").click((function(){let _o_fetchLevel=$(this).attr("data-level");chrome.runtime.sendMessage({type:"_o_extractImageFromSelectedPage",level:_o_fetchLevel});window.close()}));$("#multiUrlExtractor").on("click",(function(){chrome.runtime.sendMessage({type:"_o_multiUrlExtract"});return false}));$("#_imageAssistant_qrcode_").on("click",(function(){chrome.tabs.query({active:true,currentWindow:true},(function(_w_tabArray){if(!_w_tabArray||_w_tabArray.length===0)return;let _w_selectedTab=_w_tabArray[0];let _w_originalUrl=_w_selectedTab.url;if(_w_originalUrl.indexOf("#")>0){_w_originalUrl=_w_originalUrl.substring(0,_w_originalUrl.indexOf("#"))}_o_createQRCode(_w_originalUrl,false)}));return false}))}));