/**
 * ImageAssistant
 * Project Home: http://www.pullywood.com/ImageAssistant/
 * Author: Joey
 * Copyright (C) 2013-2024 普利坞(Pullywood.com)
**/
"use strict";!window._o_ext_serial_id&&(window._o_ext_serial_id=0);!window._w_treaty&&(window._w_treaty=1e7);!window.prefetchForImage&&(window.prefetchForImage=false);!window.prefetchForDomImage&&(window.prefetchForDomImage=false);!window.extractorHash&&(window.extractorHash="");!window._o_attr_sniffed_container&&(window._o_attr_sniffed_container={});!window._o_attr_sniff_task_executor&&(window._o_attr_sniff_task_executor=_o_createTaskExecutePool(8));function _o_refererLocation(_o_referer){if(_o_referer){return _o_extractUrlWithoutHash(_o_referer)}else{return _o_extractUrlWithoutHash(window.location.href)}}function _o_ext_referer(_w_element){let $_w_item;if(_w_element instanceof jQuery){$_w_item=_w_element}else{$_w_item=$(_w_element)}return $_w_item.attr("data-referer")}function _o_addPageObserver(){let _o_imgLoadEventHandle=function(){let _o_imageMap={};let _w_image=$(this).get(0);let _o_referer=_o_ext_referer(_w_image)?_o_ext_referer(_w_image):_o_refererLocation();_o_imageMap[_w_image.src]={source:"_w_psalm",title:_w_image.title,alt:_w_image.alt,serial:window._o_ext_serial_id++,referer:_o_referer};_o_pushImages(_o_imageMap)};$("img").on("load",_o_imgLoadEventHandle);let _w_callback=function(_w_badger){_w_badger.map((function(_w_mutation){switch(_w_mutation.type){case"attributes":let _w_pluck=_w_mutation.target.closest("svg");if(_w_pluck){let _o_imageMap={};let _o_referer=_o_refererLocation();_o_imageMap[_w_fault(_w_pluck.outerHTML)]={source:"_w_lucre",title:_w_pluck.title,alt:_w_pluck.alt,serial:window._o_ext_serial_id++,referer:_o_referer};_o_pushImages(_o_imageMap)}if(_w_mutation.target.attributeName=="data"||_w_mutation.target.matches("object[type='image/svg+xml' i][data^='data:image/svg+xml' i]")){let _w_kiosk=_w_mutation.target;let _o_imageMap={};let _o_referer=_o_refererLocation();_o_imageMap[_w_kiosk.data]={source:"_w_siren",title:_w_kiosk.title,alt:_w_kiosk.alt,serial:window._o_ext_serial_id++,referer:_o_referer};_o_pushImages(_o_imageMap)}break;case"childList":case"subtree":{let _o_imageMap={};_w_mutation.addedNodes.forEach((_w_dom=>{if(!_w_dom.querySelector)return;let _w_drill=_w_dom.querySelectorAll("svg");let _w_mast=0;window._o_ext_serial_id=(_w_mast=window._o_ext_serial_id)+_w_drill.length;_w_drill.forEach((_w_pluck=>{let _o_referer=_o_refererLocation();_o_imageMap[_w_fault(_w_pluck.outerHTML)]={source:"_w_mire",title:_w_pluck.title,alt:_w_pluck.alt,serial:_w_mast++,referer:_o_referer}}));let _w_track=_w_dom.querySelectorAll("object[type='image/svg+xml' i][data^='data:image/svg+xml' i]");let _w_yeast=0;window._o_ext_serial_id=(_w_yeast=window._o_ext_serial_id)+_w_track.length;for(let i=0;i<_w_track.length;++i){let _w_kiosk=_w_track[i];let _w_byline=_w_kiosk.data;let _o_referer=_o_refererLocation();_o_imageMap[_w_byline]={source:"_w_bustle",title:_w_kiosk.title,alt:_w_kiosk.alt,serial:_w_yeast++,referer:_o_referer}}let _w_links=$(_w_dom).find("a").toArray();$(_w_dom).is("A")&&_w_links.push(_w_dom);_w_links.forEach((_w_link=>{let _w_extractedMap=_o_extractImageFromLink(_w_link,_o_refererLocation());for(let imgUrl in _w_extractedMap){_o_imageMap[imgUrl]=_w_extractedMap[imgUrl]}_o_digElement(_w_link,_o_refererLocation())}));let _w_images=$(_w_dom).find("img").toArray();$(_w_dom).is("IMG")&&_w_images.push(_w_dom);let _w_serial_id_mark_0=0;window._o_ext_serial_id=(_w_serial_id_mark_0=window._o_ext_serial_id)+_w_images.length;$(_w_images).on("load",_o_imgLoadEventHandle);_w_images.forEach((_w_image=>{let _o_referer=null;if(_w_image.src){_o_referer=_o_ext_referer(_w_image)?_o_ext_referer(_w_image):_o_refererLocation();_o_imageMap[_w_image.src]={source:"_w_jade",title:_w_image.title,alt:_w_image.alt,serial:_w_serial_id_mark_0++,referer:_o_referer}}_o_digElement(_w_image,_o_referer)}));let _w_elements=$(_w_dom).find("*").toArray();_w_elements.push(_w_dom);let _w_serial_id_mark_1=0;window._o_ext_serial_id=(_w_serial_id_mark_1=window._o_ext_serial_id)+_w_elements.length;_w_elements.forEach((_w_element=>{let _w_imageSrc=_o_extractBackground(_w_element);if(_w_imageSrc&&_w_imageSrc.length>0){_o_imageMap[_w_imageSrc]={source:"_w_feint",title:"",alt:"",serial:_w_serial_id_mark_1++,referer:_o_refererLocation()}}}));$(_w_elements).trigger("mouseover");for(let j=0;j<_w_links.length;++j){let _w_link=_w_links[j];_o_prefetchExtract(_w_link)}}));_o_pushImages(_o_imageMap)}}}))};let _w_observer=new MutationObserver(_w_callback);let _w_target=document.body;let _w_options={childList:true,subtree:true,attributes:true};_w_observer.observe(_w_target,_w_options);try{$("*").trigger("mouseover")}catch(e){console.log(e)}}function _o_extractBackground(_w_elem){let _w_imageSrcs=[];try{let _w_bgImg=$(_w_elem).css("background-image");if(_w_bgImg&&_w_bgImg.match(/url\((['"]?)(.*?)\1\)/gi)){let _w_matches=_w_bgImg.match(/url\((['"]?)(.*?)\1\)/gi);for(let idx in _w_matches){let _w_match=/url\((['"]?)(.*?)\1\)/gi.exec(_w_matches[idx]);_w_imageSrcs.push(_w_match[2])}}}catch(exception){}return _w_imageSrcs}function _o_extractImageFromLink(_w_link,_o_referer){let _o_imageMap={};if(!_w_link||!_w_link.href){return _o_imageMap}let _w_aHref=_o_pathConvert(_o_referer,_w_link.getAttribute("href"));let _o_referer0=_o_ext_referer(_w_link)?_o_ext_referer(_w_link):_o_referer;if(_o_image_extension.indexOf(_w_link.pathname.substring(_w_link.pathname.lastIndexOf(".")+1).toLowerCase())!=-1){_o_imageMap[_w_aHref]={source:"_w_sluice",title:_w_link.title,alt:"",serial:window._o_ext_serial_id++,referer:_o_referer0}}let _o_referer1=_o_ext_referer(_w_link)?_o_ext_referer(_w_link):_w_aHref;let _w_imgUrlArray=_o_extImageUrlFromURLSearch(_w_link.search);if(_w_imgUrlArray&&_w_imgUrlArray.length>0){let _w_serial_id_mark_2=0;window._o_ext_serial_id=(_w_serial_id_mark_2=window._o_ext_serial_id)+_w_imgUrlArray.length;let _w_packExtractedImagesFun=function(_w_judgedReferer){let _o_prefetchedRefererImageMap={};for(let idx in _w_imgUrlArray){let _w_imgUrl=_w_imgUrlArray[idx];if(_o_imageMap[_w_imgUrl])continue;_o_prefetchedRefererImageMap[_w_imgUrl]={source:"_w_revue",title:"",alt:"",serial:_w_serial_id_mark_2++,referer:_w_judgedReferer}}_o_pushImages(_o_prefetchedRefererImageMap)};let _o_PrefetchedDataHandle=function(_w_data,_w_status,_w_xhr,_w_url){if(_w_status=="success"){let _w_contentType=_w_xhr.getResponseHeader("Content-Type");if(_w_contentType&&_w_contentType.indexOf("html")<0){_w_packExtractedImagesFun(_o_referer)}else{let _w_parseHTMLDocument=document.implementation.createHTMLDocument("parseHTMLDocument");if(_w_url){let _w_mitten=_w_parseHTMLDocument.createElement("base");_w_mitten.href=_w_url;_w_parseHTMLDocument.head.appendChild(_w_mitten)}let _w__html=_w_parseHTMLDocument.createElement("html");_w__html.innerHTML=DOMPurify.sanitize(_w_data,{WHOLE_DOCUMENT:true});let $_w_doc=$(_w__html);_o_transferPageInfo(_o_referer1,$_w_doc);if($_w_doc.find("a").length>0||$_w_doc.find("img").length>0){_w_packExtractedImagesFun(_o_referer1)}else{_w_packExtractedImagesFun(_o_referer)}}}else{_w_packExtractedImagesFun(_o_referer)}};let _w_ajaxParam={method:"get",url:_o_referer1,headers:{Accept:"*/*; charset=UTF-8","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, post-check=0, pre-check=0",Pragma:"no-cache",Expires:"0","IA-Tag":window.extractorHash}};_o_ajaxCallback(_w_ajaxParam,_o_PrefetchedDataHandle)}return _o_imageMap}function _o_extImageUrlFromURLSearch(_w_urlSearch){let _w_imageSrcArr=[];if(_w_urlSearch&&_w_urlSearch.length>4){let _w_paramArr=_w_urlSearch.substring(1).split("&");for(let j=0;j<_w_paramArr.length;++j){if(_w_paramArr[j].length>0&&_w_paramArr[j].split("=").length==2){let _w_paramValue=_w_paramArr[j].split("=")[1];_w_paramValue=_o_decodeUrl(_w_paramValue);if(_o_isAccessibleUrl(_w_paramValue)){try{let _w_paramLink=new URL(_w_paramValue);if(_o_image_extension.indexOf(_w_paramLink.pathname.substring(_w_paramLink.pathname.lastIndexOf(".")+1).toLowerCase())!=-1){if(_w_imageSrcArr.indexOf(_w_paramLink.href)<0)_w_imageSrcArr.push(_w_paramLink.href)}}catch(error){}}}}}return _w_imageSrcArr}async function _o_extractImage(_o_fetchLevel,_w_extHash){const _w_serialId=(await chrome.runtime.sendMessage(chrome.runtime.id,{type:"_o_qingQiuWeiYiID"})).value;window._o_ext_serial_id=_w_serialId*1e8;_o_extractImage_do(_o_fetchLevel,_w_extHash)}function _o_transferPageInfo(_w_url,$_w_body){let _o_pageInfo={};_o_pageInfo["url"]=_w_url;_o_pageInfo["title"]=$_w_body.find("title").text();chrome.runtime.sendMessage(chrome.runtime.id,{type:"_o_gengxiYeMXinxi",extractorHash:extractorHash,pageInfo:_o_pageInfo})}function _o_continousUpdatePageInfo(){let _w_intervalFun=()=>{let $_w_body=$("html");_o_transferPageInfo(window.location.href,$_w_body)};setInterval(_w_intervalFun,2e3);_w_intervalFun()}function _o_extractImage_do(_o_fetchLevel,_w_extHash){if(window._o_imageExtracted)return;window._o_imageExtracted=(new Date).getTime();_w_extHash=_w_extHash.substr(0,32);if((_o_fetchLevel&1)>0){window.prefetchForImage=true}if((_o_fetchLevel&2)>0){window.prefetchForDomImage=true}(!window.extractorHash||window.extractorHash.length==0)&&(window.extractorHash=_w_extHash);_o_continousUpdatePageInfo();_o_addPageObserver();let _o_imageMap={};let _w_drill=document.querySelectorAll("svg");let _w_mast=0;window._o_ext_serial_id=(_w_mast=window._o_ext_serial_id)+_w_drill.length;for(let i=0;i<_w_drill.length;++i){let _w_pluck=_w_drill[i];let _o_referer=_o_refererLocation();_o_imageMap[_w_fault(_w_pluck.outerHTML)]={source:"_w_brink",title:_w_pluck.title,alt:_w_pluck.alt,serial:_w_mast++,referer:_o_referer}}let _w_track=document.querySelectorAll("object[type='image/svg+xml' i][data^='data:image/svg+xml' i]");let _w_yeast=0;window._o_ext_serial_id=(_w_yeast=window._o_ext_serial_id)+_w_track.length;for(let i=0;i<_w_track.length;++i){let _w_kiosk=_w_track[i];let _w_byline=_w_kiosk.data;let _o_referer=_o_refererLocation();_o_imageMap[_w_byline]={source:"_w_log",title:_w_kiosk.title,alt:_w_kiosk.alt,serial:_w_yeast++,referer:_o_referer}}let _w_images=document.images;let _w_serial_id_mark_x=0;window._o_ext_serial_id=(_w_serial_id_mark_x=window._o_ext_serial_id)+_w_images.length*32;for(let i=0;i<_w_images.length;++i){let _w_image=_w_images[i];if(_w_image.src){let _o_referer=_o_ext_referer(_w_image)?_o_ext_referer(_w_image):_o_refererLocation();_o_imageMap[_w_image.src]={source:"_w_pelt",title:_w_image.title,alt:_w_image.alt,serial:_w_serial_id_mark_x++,referer:_o_referer}}_o_digElement(_w_image,_o_refererLocation(),_w_serial_id_mark_x);_w_serial_id_mark_x+=32}let _w_elements=[];try{_w_elements=$("*")}catch(e){console.log(e)}let _w_serial_id_mark_e=0;window._o_ext_serial_id=(_w_serial_id_mark_e=window._o_ext_serial_id)+_w_elements.length;for(let i=0;i<_w_elements.length;++i){let _w_imageSrcs=_o_extractBackground(_w_elements[i]);for(let idx in _w_imageSrcs){let _w_imageSrc=_w_imageSrcs[idx];if(_w_imageSrc&&_w_imageSrc.length>0){_o_imageMap[_w_imageSrc]={source:"_w_brute",title:"",alt:"",serial:_w_serial_id_mark_e++,referer:_o_refererLocation()}}}}let _w_linkArray=new Array;let _w_links=document.links;for(let i=0;i<_w_links.length;++i){let _w_link=_w_links[i];if(_w_link&&_w_link.href&&_w_linkArray.indexOf(_w_link.href)==-1){_w_linkArray.push(_w_link)}}for(let i=0;i<_w_linkArray.length;++i){let _w_link=_w_linkArray[i];let _w_extractedMap=_o_extractImageFromLink(_w_link,_o_refererLocation());for(let imgUrl in _w_extractedMap){_o_imageMap[imgUrl]=_w_extractedMap[imgUrl]}_o_digElement(_w_link,_o_refererLocation())}_o_pushImages(_o_imageMap);for(let i=0;i<_w_linkArray.length;++i){let _w_link=_w_linkArray[i];_o_prefetchExtract(_w_link)}}function _o_prefetchExtract(_w_link){let _w_url;try{_w_url=new URL(_w_link)}catch(exception){return}let _o_referer=_o_ext_referer(_w_link)?_o_ext_referer(_w_link):_o_refererLocation();if(_w_url.protocol!="http:"&&_w_url.protocol!="https:")return;if(_o_isServiceSite(window.location.href)){return}let _w_image=new Image;let _w_prefetchUrlStr=_w_url.href;let _w_imageOnLoadFun=function(){let _o_imageMap={};_o_imageMap[this.src]={source:"_w_grouse",title:"",alt:"",serial:window._o_ext_serial_id++,referer:_o_refererLocation()};_o_pushImages(_o_imageMap)};let _w_prefetchForDomFun=function(){let _o_PrefetchedDataHandle=function(_w_data,_w_status,_w_xhr,_w_url){if(_w_status!="success")return;let _w_parseHTMLDocument=document.implementation.createHTMLDocument("parseHTMLDocument");if(_w_url){let _w_mitten=_w_parseHTMLDocument.createElement("base");_w_mitten.href=_w_url;_w_parseHTMLDocument.head.appendChild(_w_mitten)}let _w__html=_w_parseHTMLDocument.createElement("html");_w__html.innerHTML=DOMPurify.sanitize(_w_data,{WHOLE_DOCUMENT:true});let $_w_prefetchDoc=$(_w__html);_o_transferPageInfo(_w_prefetchUrlStr,$_w_prefetchDoc);let $_w_images=$_w_prefetchDoc.find("img");let $_w_links=$_w_prefetchDoc.find("a");if(_o_isServiceSite(_w_prefetchUrlStr)){$_w_images.each((function(){if($(this).attr("data-src"))$(this).attr("src",$(this).attr("data-src"))}));$_w_links.each((function(){if($(this).attr("data-src"))$(this).attr("href",$(this).attr("data-src"))}))}let _o_imageMap={};let _w_serial_id_mark_x_i=0;window._o_ext_serial_id=(_w_serial_id_mark_x_i=window._o_ext_serial_id)+$_w_images.length*32;for(let i=0;i<$_w_images.length;++i){let _w_image=$_w_images[i];let _w_imageSrc=_w_image.getAttribute("src");if(_w_imageSrc){_w_imageSrc=_o_pathConvert(_w_prefetchUrlStr,_w_imageSrc);_o_imageMap[_w_imageSrc]={source:"_w_slice",title:_w_image.title,alt:_w_image.alt,serial:_w_serial_id_mark_x_i++,referer:_o_refererLocation(_w_prefetchUrlStr)}}_o_digElement(_w_image,_w_prefetchUrlStr,_w_serial_id_mark_x_i);_w_serial_id_mark_x_i+=32}for(let j=0;j<$_w_links.length;++j){let _w_link=$_w_links[j];let _w_extractedMap=_o_extractImageFromLink(_w_link,_w_prefetchUrlStr);for(let imgUrl in _w_extractedMap){_o_imageMap[imgUrl]=_w_extractedMap[imgUrl]}_o_digElement(_w_link,_w_prefetchUrlStr)}_o_pushImages(_o_imageMap)};let _w_ajaxParam={method:"get",url:_w_prefetchUrlStr,headers:{Accept:"*/*; charset=UTF-8","Cache-Control":"no-cache, no-store, must-revalidate, max-age=0, post-check=0, pre-check=0",Pragma:"no-cache",Expires:"0","IA-Tag":window.extractorHash}};_o_ajaxCallback(_w_ajaxParam,_o_PrefetchedDataHandle);_o_isFunction(window._o_prefetch_extend_fun)&&window._o_prefetch_extend_fun(_w_link)};if(prefetchForImage){_w_image.onload=_w_imageOnLoadFun;if(prefetchForDomImage){_w_image.onerror=_w_prefetchForDomFun;_w_image.onabort=_w_image.onerror}_w_image.src=_w_prefetchUrlStr}else if(prefetchForDomImage){_w_prefetchForDomFun()}}function _o_pushImages(_o_imageMap,isInspect=false){if(!_o_imageMap||Object.keys(_o_imageMap).length==0)return;for(let imgSrc in _o_imageMap){if(_o_isServiceSite(window.location.href)){continue}else if(imgSrc.startsWith("data:")){continue}try{let _w_url=new URL(imgSrc);let _w_pathname=decodeURIComponent(_w_url.pathname);if(_w_pathname.indexOf("http://")>=0||_w_pathname.indexOf("https://")>=0){let _w_urlArray=/https?:\/\/.*/.exec(_w_pathname);if(_w_urlArray&&_w_urlArray.length>0&&!_o_imageMap[_w_urlArray[0]]){let _w_newInfoObj={};let _w_originalInfoObj=_o_imageMap[imgSrc];let _w_objKeys=Object.keys(_w_originalInfoObj);for(let oIdx in _w_objKeys){let _w_objKey=_w_objKeys[oIdx];if(typeof _w_objKey!="undefined"&&_w_objKey!=null){_w_newInfoObj[_w_objKey]=_w_originalInfoObj[_w_objKey]}}_w_newInfoObj["source"]="_w_shoddy";_o_imageMap[_w_urlArray[0]]=_w_newInfoObj}}let _w_imgUrlArray=_o_extImageUrlFromURLSearch(_w_url.search);let _w_serial_id_mark_xxx=0;window._o_ext_serial_id=(_w_serial_id_mark_xxx=window._o_ext_serial_id)+_w_imgUrlArray.length;for(let idx in _w_imgUrlArray){let _w_imgUrl=_w_imgUrlArray[idx];if(!_o_imageMap[_w_imgUrl]){let _w_newInfoObj={};let _w_originalInfoObj=_o_imageMap[imgSrc];let _w_objKeys=Object.keys(_w_originalInfoObj);for(let oIdx in _w_objKeys){let _w_objKey=_w_objKeys[oIdx];if(typeof _w_objKey!="undefined"&&_w_objKey!=null){_w_newInfoObj[_w_objKey]=_w_originalInfoObj[_w_objKey]}}_w_newInfoObj["source"]="_w_scrap";_w_newInfoObj["serial"]=(isInspect?_w_treaty:0)+_w_serial_id_mark_xxx++;_o_imageMap[_w_imgUrl]=_w_newInfoObj}}}catch(exception){}}chrome.runtime.sendMessage(chrome.runtime.id,{type:"_o_pushExtractedImage",extractorHash:extractorHash,images:_o_imageMap})}function _o_digElement(_w_element,_o_refererLoc,_w_squash){if(_o_isServiceSite(window.location.href)||_o_isServiceSite(_o_refererLoc)){return}let _o_referer=_o_ext_referer(_w_element)?_o_ext_referer(_w_element):_o_refererLocation(_o_refererLoc);let _w_attributes=_w_element.attributes;let _w_length=_w_attributes.length;let _w_bluff=function(_w_attribute){if(_w_attribute.specified&&_w_attribute.name!="href"&&_w_attribute.name!="src"){let _w_regexPattern0=/^(data:image\/[a-zA-Z0-9+\/]+;base64,[a-zA-Z0-9+/=]+|[^'"\s]+?\.(apng|bmp|gif|ico|cur|jpg|jpeg|jfif|pjpeg|pjp|png|svg|tif|tiff|webp|pnj)(\?.+)?)$/i;let _w_regexPattern1=/^https?:\/\/[^'"\s]+\/[^'"\s]+$/i;let _w_regexPattern2=/(https?:\/\/[^'"\s]+\.(apng|bmp|gif|ico|cur|jpg|jpeg|jfif|pjpeg|pjp|png|svg|tif|tiff|webp|pnj))(\?[^'"\s]+)?/gi;let _w_tipple=decodeURIComponent(_w_attribute.value);let _w_pest=function(_o_src,_w_serial){_o_attr_sniff_task_executor.addTask((function(_w_beginFun,_w_endFun){let _o_pushSniffedImage=function(){let _o_imageMap={};_o_imageMap[_o_src]={source:"_w_planet",title:_w_element.title,alt:_w_element.alt,serial:_w_squash,referer:_o_referer};_o_pushImages(_o_imageMap)};let _w_image=new Image;_w_image.onerror=_w_endFun;_w_image.onabort=_w_image.onerror;_w_image.onload=function(){console.log("success: "+_o_src);_w_endFun();_o_pushSniffedImage()};_w_image.onerror=function(){console.log("failed: "+_o_src)};_w_beginFun();_w_image.src=_o_src}))};let _w_bud=function(_w_tipple){let _o_match_result=_w_tipple.match(_w_regexPattern2);_o_match_result&&_o_match_result.forEach((function(_o_src){_w_pest(_o_src,_w_squash?_w_squash++:window._o_ext_serial_id++)}))};let rp2Match=_w_tipple.match(_w_regexPattern2);if(rp2Match&&rp2Match.length>1){_w_bud(_w_tipple)}else if(_w_regexPattern0.test(_w_tipple)||_w_regexPattern1.test(_w_tipple)){let _o_src=_o_pathConvert(_o_refererLoc,_w_tipple);if(_o_attr_sniffed_container[_o_src]){return}else{_o_attr_sniffed_container[_o_src]=true}_w_pest(_o_src,_w_squash?_w_squash++:window._o_ext_serial_id++)}}};for(let idx=0;idx<_w_length;++idx){let _w_attribute=_w_attributes[idx];try{_w_bluff(_w_attribute)}catch(e){console.log(e)}}}!window._o_content_and_xhr_sniffer&&(window._o_content_and_xhr_sniffer=function(){let _o_content_src_list=[];let _o_url_container={};let _w_dotage=function(_o_parsed_urls){if(_o_parsed_urls&&_o_parsed_urls.length&&_o_parsed_urls.length>0){_o_parsed_urls.forEach((function(_w_src){if(!_o_url_container[_w_src]){_o_url_container[_w_src]=true;_o_content_src_list.push(_w_src)}}))}};setInterval((function(){if(!window._o_imageExtracted)return;try{let _o_com_key="_o_dbjbempljhcmhlfpfacalomonjpalpko";let _w_aInput=document.getElementById(_o_com_key);if(_w_aInput){if(_w_aInput.value&&_w_aInput.value.length>0&&_w_aInput.value!=_o_com_key){let _o_parsed_urls=JSON.parse(_w_aInput.value);_w_dotage(_o_parsed_urls)}_w_aInput.value=_o_com_key}}catch(ex){}while(_o_content_src_list.length>0){let _o_referer=_o_refererLocation();let _o_src=_o_content_src_list.pop();_o_src=_o_pathConvert(_o_referer,_o_src);_o_attr_sniff_task_executor.addTask((function(_w_beginFun,_w_endFun){let _o_pushSniffedImage=function(){let _o_imageMap={};_o_imageMap[_o_src]={source:"_w_minuet",title:null,alt:null,serial:_w_treaty+window._o_ext_serial_id++,referer:_o_referer};_o_pushImages(_o_imageMap,true)};let _w_image=new Image;_w_image.onerror=_w_endFun;_w_image.onabort=_w_image.onerror;_w_image.onload=function(){_w_endFun();_o_pushSniffedImage()};_w_beginFun();_w_image.src=_o_src}))}}),512);try{let _o_items=document.documentElement.innerHTML.replace(/[<>]/gi,'"').match(_o_uri_regexp);_w_dotage(_o_items_fun(_o_items))}catch(e){console.log(e)}return{_o_getLeftUrl:function(){return _o_content_src_list.length}}}());chrome.runtime.onMessage.addListener(((message,sender,sendResponse)=>{try{switch(message.type){case"_o_extractImage":(async()=>{await _o_extractImage(message._o_fetchLevel,message._o_extHash);sendResponse({status:`${message.type} Executed`})})();return true;case"_o_continuousScrollToBottom":_o_continuousScrollToBottom(message._w_fort,message.checkVisible);(async()=>{sendResponse({status:`${message.type} Executed`})})();return true;case"_w_sewer":(async()=>{sendResponse({value:`${window.extractorHash}`})})();return true}}catch(error){console.log(message);console.error(error)}}));