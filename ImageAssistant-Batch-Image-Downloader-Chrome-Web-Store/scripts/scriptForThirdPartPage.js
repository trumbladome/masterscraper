/**
 * ImageAssistant
 * Project Home: http://www.pullywood.com/ImageAssistant/
 * Author: Joey
 * Copyright (C) 2013-2024 普利坞(Pullywood.com)
**/
"use strict";function _o_extThisPage(){chrome.runtime.sendMessage(_o_getExtensionId(),{type:"_o_extractImageFromTab",fetchLevel:0})}function _o_selectorAutoRequest(_w_selectorArray){if(!_w_selectorArray)return;let _w_intervalTimer=window.setInterval((function(){for(let idx in _w_selectorArray){let $_w_selectedItem=$(_w_selectorArray[idx]);if($_w_selectedItem.length>0){window.clearInterval(_w_intervalTimer);let _w_autoRequestUrl=$_w_selectedItem.get(0).href;chrome.runtime.sendMessage(_o_getExtensionId(),{type:"_o_chuli3rdXinxi",url:_w_autoRequestUrl,action:"_o_extThisPage",createNewTab:false})}}}),256)}function _o_googleViewAllSize_(){_o_selectorAutoRequest(["a[href*='search']:contains('全部尺寸')","a[href*='search']:contains('所有大小')","a[href*='search']:contains('All sizes')"])}function _o_googleViewAnalogous_(){_o_selectorAutoRequest(["a[href*='search']:contains('外观类似的图片')","a[href*='search']:contains('看起來相似的圖片')","a[href*='search']:contains('Visually similar images')"])}chrome.runtime.onMessage.addListener(((message,sender,sendResponse)=>{try{switch(message.type){case"_o_googleViewAllSize_":(async()=>{_o_googleViewAllSize_();sendResponse({status:`${message.type} Executed`})})();return true;case"_o_googleViewAnalogous_":(async()=>{_o_googleViewAnalogous_();sendResponse({status:`${message.type} Executed`})})();return true;case"_o_extThisPage":(async()=>{_o_extThisPage();sendResponse({status:`${message.type} Executed`})})();return true}}catch(error){console.log(message);console.error(error)}}));